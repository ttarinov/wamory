{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767402344526,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767402344532,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767402344959,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767402345542,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767402345545,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767402345805,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767402346328,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767402346331,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767402351072,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":72,"hasKeyHash":true},"timestamp":1767402351077,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767402351078,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402351616,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767402351617,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767402351994,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767402351996,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402352026,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402352061,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402352093,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402352105,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:14","message":"BLOB_CHATS_URL not set, returning null","data":{},"timestamp":1767402352105,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767402352108,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767402352108,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402352129,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402352151,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:14","message":"BLOB_CHATS_URL not set, returning null","data":{},"timestamp":1767402352151,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767402352153,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767402352153,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767402606610,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767402607010,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767402609922,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767402609928,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767402610460,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767402611016,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767402611020,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767402611218,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767402611438,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767402611441,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767402612784,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:15","message":"blob not found, returning hasData:false","data":{"errorMessage":"Vercel Blob: The requested blob does not exist"},"timestamp":1767402613193,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767402617156,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":72,"hasKeyHash":true},"timestamp":1767402617159,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767402617159,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402617631,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767402617633,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767402618425,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767402618429,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402618454,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402618484,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402618518,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402618531,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767402618532,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767402618532,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402618537,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767402618965,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767402619250,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402619251,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767402619883,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767402619896,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767402619896,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402619904,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767402619904,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767402619905,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767402620199,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767402620633,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402620634,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767402620714,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767402620719,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767402620719,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767402667544,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767402668048,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767402670473,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"33446e5fe6dd53ae5248"},"timestamp":1767402670476,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767402670476,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767402671133,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767402671469,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402671526,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402671551,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402671579,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402671588,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767402671588,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767402671589,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402671596,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767402671797,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767402671990,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402671993,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767402672058,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767402672064,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767402672066,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402672110,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767402672111,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767402672112,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767402672544,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767402672741,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402672742,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767402672806,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767402672816,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767402672816,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767402857991,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767402857993,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767402858593,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767402858945,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767402858947,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767402859216,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767402859780,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767402859787,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767402864744,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":72,"hasKeyHash":true},"timestamp":1767402864749,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767402864751,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402865159,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767402865162,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767402865537,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767402865538,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402865552,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767402865579,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402865611,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767402865645,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402865765,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767402865767,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767402865767,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767402865965,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767402866229,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402866231,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767402866456,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767402866457,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767402866470,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767402866470,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767402866503,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767402866503,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767402866504,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767402866932,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767402867385,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767402867387,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767402867449,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767402867451,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767402867456,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767402867457,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:210","message":"handleExtractAndPreview called","data":{"availableFilesCount":1,"selectedFilesCount":1,"selectedFiles":["WhatsApp Chat - +595 981 407152.zip"]},"timestamp":1767402873768,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:219","message":"filtered selected files","data":{"selectedFilesListCount":1,"selectedFilesList":[{"name":"WhatsApp Chat - +595 981 407152.zip","type":"zip"}]},"timestamp":1767402873825,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 981 407152.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 981 407152.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767402873826,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":1260,"phoneNumber":"+595 981 407152"},"timestamp":1767402873837,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":false},"timestamp":1767402873837,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"extraction complete","data":{"newChatsCount":0,"newChats":[]},"timestamp":1767402873837,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767402902795,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767402903462,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767403027859,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767403028548,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767403030963,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767403030970,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767403031571,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767403032374,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767403032378,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767403032912,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767403033350,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767403033352,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767403062051,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":72,"hasKeyHash":true},"timestamp":1767403062064,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767403062065,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403062910,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767403062911,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767403063422,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767403063426,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767403063540,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767403063564,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767403063598,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767403063618,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767403063619,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767403063620,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767403063621,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767403063815,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767403064136,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403064143,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767403064381,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767403064382,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767403064414,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767403064414,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767403064416,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767403064423,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767403064424,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767403064841,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767403065254,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403065255,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767403065308,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767403065309,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767403065313,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767403065314,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:210","message":"handleExtractAndPreview called","data":{"availableFilesCount":1,"selectedFilesCount":1,"selectedFiles":["WhatsApp Chat - +595 976 338946.zip"]},"timestamp":1767403071184,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:219","message":"filtered selected files","data":{"selectedFilesListCount":1,"selectedFilesList":[{"name":"WhatsApp Chat - +595 976 338946.zip","type":"zip"}]},"timestamp":1767403071263,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 976 338946.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 976 338946.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767403071264,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":1609,"phoneNumber":"+595 976 338946"},"timestamp":1767403071278,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1609,"phoneNumber":"+595 976 338946","firstLines":["[6/2/25, 9:11:17â€¯AM] ~Melani Rojas: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/2/25, 9:11:17â€¯AM] ~Melani Rojas:","[6/2/25, 9:03:43â€¯AM] ~Melani Rojas: Buen dÃ­aa","[6/2/25, 9:03:52â€¯AM] ~Melani Rojas: TendrÃ­as algÃºn combo mensual?","[6/2/25, 9:18:24â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenida a Yutri! ðŸ¤©"]},"timestamp":1767403071278,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":20,"nonEmptyLines":17},"timestamp":1767403071278,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/2/25","time":"9:11:17â€¯AM","hasTimestamp":true,"timestamp":"2025-06-02T12:11:17.000Z","sender":"~Melani Rojas","contentLength":85},"timestamp":1767403071283,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/2/25","time":"9:11:17â€¯AM","hasTimestamp":true,"timestamp":"2025-06-02T12:11:17.000Z","sender":"~Melani Rojas","contentLength":0},"timestamp":1767403071284,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/2/25","time":"9:03:43â€¯AM","hasTimestamp":true,"timestamp":"2025-06-02T12:03:43.000Z","sender":"~Melani Rojas","contentLength":9},"timestamp":1767403071284,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":15,"validMessagesCount":14},"timestamp":1767403071284,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b816ea73400025b903facd7c3","chatName":"Melani Rojas","messagesCount":14},"timestamp":1767403071284,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"extraction complete","data":{"newChatsCount":1,"newChats":[{"id":"chat_19b816ea73400025b903facd7c3","name":"Melani Rojas","messagesCount":14}]},"timestamp":1767403072147,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:402","message":"handleConfirmImport called","data":{"previewedChatsCount":1},"timestamp":1767403075705,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"calling onImport","data":{},"timestamp":1767403075717,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/chat/chat-layout.tsx:95","message":"handleImportChats called","data":{"newChatsCount":1,"existingChatsCount":0},"timestamp":1767403075717,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:99","message":"filtered unique chats","data":{"uniqueNewChatsCount":1},"timestamp":1767403075718,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:103","message":"calling ChatStorage.addChats","data":{},"timestamp":1767403075718,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:62","message":"addChats called","data":{"newChatsCount":1},"timestamp":1767403075718,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767403075719,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767403075776,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767403075821,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767403075822,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767403075823,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767403076324,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767403077054,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403077054,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767403077366,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767403077370,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:67","message":"calling saveChats","data":{"toAddCount":1,"allCount":1},"timestamp":1767403077374,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:28","message":"saveChats called","data":{"chatsCount":1},"timestamp":1767403077374,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767403077373,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:64","message":"loaded existing chats","data":{"existingCount":0},"timestamp":1767403077373,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:48","message":"posting to /api/chats","data":{"encryptedLength":4668,"hasKeyHash":true},"timestamp":1767403077415,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767403077430,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":4668,"hasKeyHash":true},"timestamp":1767403077431,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767403077431,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403077660,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767403077660,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767403077893,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767403077893,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:54","message":"save response received","data":{"ok":true,"status":200,"statusText":"OK"},"timestamp":1767403077898,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:60","message":"save successful","data":{},"timestamp":1767403077899,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:68","message":"saveChats completed","data":{},"timestamp":1767403077899,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:105","message":"calling ChatStorage.loadChats","data":{},"timestamp":1767403077899,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767403077899,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767403077926,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767403077938,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767403077938,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767403077939,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767403078133,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767403078355,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403078356,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767403078419,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767403078428,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767403078429,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:106","message":"loaded chats from storage","data":{"loadedChatsCount":0},"timestamp":1767403078429,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:107","message":"calling onChatsChange","data":{"revivedChatsCount":0},"timestamp":1767403078429,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:408","message":"onImport completed, closing dialog","data":{},"timestamp":1767403078430,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767403083359,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767403083924,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767403085742,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"ff28b67ba144fdbb1f13"},"timestamp":1767403085744,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767403085745,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767403086247,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767403086579,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767403086628,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767403086657,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767403086685,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767403086694,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767403086695,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767403086695,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767403086703,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767403086887,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767403087096,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403087098,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767403087157,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767403087161,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767403087162,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767403087165,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767403087165,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767403087166,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767403087364,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767403087861,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767403087864,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767403087945,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767403087951,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767403087951,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767404646684,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767404647191,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767404650342,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767404650344,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767404650851,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767404651413,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767404651417,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767404651617,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767404651954,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767404651957,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767404667328,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":72,"hasKeyHash":true},"timestamp":1767404667331,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767404667332,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404668184,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767404668187,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767404668782,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767404668782,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404668795,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404668817,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404668847,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404668860,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404668860,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404668861,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404668864,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404669314,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404669522,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404669523,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767404669762,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767404669763,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767404669772,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767404669773,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404669787,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404669789,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404669790,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404670214,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404670645,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404670646,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767404670706,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767404670707,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767404670713,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767404670713,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:210","message":"handleExtractAndPreview called","data":{"availableFilesCount":1,"selectedFilesCount":1,"selectedFiles":["WhatsApp Chat - +595 981 407152.zip"]},"timestamp":1767404677590,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:219","message":"filtered selected files","data":{"selectedFilesListCount":1,"selectedFilesList":[{"name":"WhatsApp Chat - +595 981 407152.zip","type":"zip"}]},"timestamp":1767404677630,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 981 407152.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 981 407152.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767404677631,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":1260,"phoneNumber":"+595 981 407152"},"timestamp":1767404677640,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1260,"phoneNumber":"+595 981 407152","firstLines":["[6/10/25, 10:34:58â€¯AM] ~Sol: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 10:34:58â€¯AM] ~Sol:","[6/10/25, 10:33:05â€¯AM] ~Sol: Â¡Hola! PodrÃ­as darme mÃ¡s informaciÃ³n de...","[6/10/25, 10:37:19â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenida a Yutri! ðŸ¤©","Claro, te cuento un poco mÃ¡s lo que ofrecemos ðŸŒ±"]},"timestamp":1767404677641,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":19,"nonEmptyLines":16},"timestamp":1767404677641,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":85},"timestamp":1767404677641,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":0},"timestamp":1767404677642,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:33:05â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:33:05.000Z","sender":"~Sol","contentLength":42},"timestamp":1767404677642,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":11,"validMessagesCount":10},"timestamp":1767404677642,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b81872a0b0019cd946f71d14b","chatName":"Sol","messagesCount":10},"timestamp":1767404677643,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"extraction complete","data":{"newChatsCount":1,"newChats":[{"id":"chat_19b81872a0b0019cd946f71d14b","name":"Sol","messagesCount":10}]},"timestamp":1767404678716,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:402","message":"handleConfirmImport called","data":{"previewedChatsCount":1},"timestamp":1767404689074,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"calling onImport","data":{},"timestamp":1767404689075,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/chat/chat-layout.tsx:95","message":"handleImportChats called","data":{"newChatsCount":1,"existingChatsCount":0},"timestamp":1767404689076,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:99","message":"filtered unique chats","data":{"uniqueNewChatsCount":1},"timestamp":1767404689076,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:103","message":"calling ChatStorage.addChats","data":{},"timestamp":1767404689077,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:62","message":"addChats called","data":{"newChatsCount":1},"timestamp":1767404689077,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404689077,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404689156,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404689197,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404689198,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404689199,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404690051,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404690624,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404690625,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767404690942,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767404690963,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767404690964,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:64","message":"loaded existing chats","data":{"existingCount":0},"timestamp":1767404690964,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:67","message":"calling saveChats","data":{"toAddCount":1,"allCount":1},"timestamp":1767404690965,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:28","message":"saveChats called","data":{"chatsCount":1},"timestamp":1767404690965,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:48","message":"posting to /api/chats","data":{"encryptedLength":3620,"hasKeyHash":true},"timestamp":1767404691024,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767404691036,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":3620,"hasKeyHash":true},"timestamp":1767404691039,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767404691039,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404691272,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767404691273,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767404691506,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767404691508,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:54","message":"save response received","data":{"ok":true,"status":200,"statusText":"OK"},"timestamp":1767404691513,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:60","message":"save successful","data":{},"timestamp":1767404691513,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:68","message":"saveChats completed","data":{},"timestamp":1767404691514,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:105","message":"calling ChatStorage.loadChats","data":{},"timestamp":1767404691514,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404691514,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404691548,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404691567,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404691568,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404691568,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404692015,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404692209,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404692210,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767404692266,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767404692266,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767404692272,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767404692273,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:106","message":"loaded chats from storage","data":{"loadedChatsCount":0},"timestamp":1767404692273,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:107","message":"calling onChatsChange","data":{"revivedChatsCount":0},"timestamp":1767404692273,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:408","message":"onImport completed, closing dialog","data":{},"timestamp":1767404692273,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767404700579,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767404701137,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767404702625,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"8e79a9279ba3dfe54076"},"timestamp":1767404702626,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767404702626,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767404703188,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767404703498,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404703552,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404703578,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404703607,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404703614,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404703614,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404703615,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404703625,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404703827,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404704267,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404704269,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:39","message":"fetch failed","data":{"status":404,"statusText":"Not Found"},"timestamp":1767404704325,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767404704326,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767404704332,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767404704333,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404704349,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404704350,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404704351,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404704555,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404704753,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:32","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404704755,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:36","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767404704819,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767404704827,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767404704828,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:210","message":"handleExtractAndPreview called","data":{"availableFilesCount":1,"selectedFilesCount":1,"selectedFiles":["WhatsApp Chat - +595 981 407152.zip"]},"timestamp":1767404741143,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:219","message":"filtered selected files","data":{"selectedFilesListCount":1,"selectedFilesList":[{"name":"WhatsApp Chat - +595 981 407152.zip","type":"zip"}]},"timestamp":1767404741214,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 981 407152.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 981 407152.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767404741215,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":1260,"phoneNumber":"+595 981 407152"},"timestamp":1767404741225,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1260,"phoneNumber":"+595 981 407152","firstLines":["[6/10/25, 10:34:58â€¯AM] ~Sol: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 10:34:58â€¯AM] ~Sol:","[6/10/25, 10:33:05â€¯AM] ~Sol: Â¡Hola! PodrÃ­as darme mÃ¡s informaciÃ³n de...","[6/10/25, 10:37:19â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenida a Yutri! ðŸ¤©","Claro, te cuento un poco mÃ¡s lo que ofrecemos ðŸŒ±"]},"timestamp":1767404741226,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":19,"nonEmptyLines":16},"timestamp":1767404741226,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":85},"timestamp":1767404741226,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":0},"timestamp":1767404741227,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:33:05â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:33:05.000Z","sender":"~Sol","contentLength":42},"timestamp":1767404741227,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":11,"validMessagesCount":10},"timestamp":1767404741227,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b8188226b00094387a602675b","chatName":"Sol","messagesCount":10},"timestamp":1767404741227,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"extraction complete","data":{"newChatsCount":1,"newChats":[{"id":"chat_19b8188226b00094387a602675b","name":"Sol","messagesCount":10}]},"timestamp":1767404741977,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767404858345,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767404858737,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767404911459,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767404911892,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767404915549,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767404915552,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767404915979,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767404916337,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767404916340,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767404916547,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767404916772,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767404916777,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767404919674,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":72,"hasKeyHash":true},"timestamp":1767404919677,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767404919678,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404920285,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767404920290,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767404920821,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767404920823,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404920843,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404920874,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404920905,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404920923,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404920924,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404920925,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404920925,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404921354,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404921565,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:38","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","pathname":"chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1"},"timestamp":1767404921566,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:42","message":"attempting fetch","data":{"usingUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","hasDownloadUrl":true},"timestamp":1767404921567,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"fetch failed, trying head to get downloadUrl","data":{"status":404,"statusText":"Not Found"},"timestamp":1767404921811,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":0},"timestamp":1767404922015,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:71","message":"retry fetch failed","data":{"status":404,"retry":0},"timestamp":1767404922081,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":1},"timestamp":1767404922571,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:71","message":"retry fetch failed","data":{"status":404,"retry":1},"timestamp":1767404922631,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":2},"timestamp":1767404923239,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:71","message":"retry fetch failed","data":{"status":404,"retry":2},"timestamp":1767404923307,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767404923309,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767404923323,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767404923324,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404923368,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404923369,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404923369,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404923573,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404923998,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:38","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","pathname":"chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1"},"timestamp":1767404924001,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:42","message":"attempting fetch","data":{"usingUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","hasDownloadUrl":true},"timestamp":1767404924002,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"fetch failed, trying head to get downloadUrl","data":{"status":404,"statusText":"Not Found"},"timestamp":1767404924064,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":0},"timestamp":1767404924260,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:71","message":"retry fetch failed","data":{"status":404,"retry":0},"timestamp":1767404924318,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":1},"timestamp":1767404924722,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:71","message":"retry fetch failed","data":{"status":404,"retry":1},"timestamp":1767404924782,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":2},"timestamp":1767404925387,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:71","message":"retry fetch failed","data":{"status":404,"retry":2},"timestamp":1767404925444,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:49","message":"returning null - blob not found or fetch failed","data":{},"timestamp":1767404925445,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767404925453,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767404925454,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:210","message":"handleExtractAndPreview called","data":{"availableFilesCount":1,"selectedFilesCount":1,"selectedFiles":["WhatsApp Chat - +595 981 800546.zip"]},"timestamp":1767404928757,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:219","message":"filtered selected files","data":{"selectedFilesListCount":1,"selectedFilesList":[{"name":"WhatsApp Chat - +595 981 800546.zip","type":"zip"}]},"timestamp":1767404928823,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 981 800546.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 981 800546.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767404928824,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":765,"phoneNumber":"+595 981 800546"},"timestamp":1767404928830,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":765,"phoneNumber":"+595 981 800546","firstLines":["[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio:","[6/10/25, 9:54:03â€¯AM] ~HernÃ¡n Samudio: Buen dÃ­a! Quiero probar el plan de un dia pero en vez de desayuno y merienda, quiero un almuerzo y cena extra, eso es posible? En la pÃ¡gina no encontre forma de hacerlo","[6/10/25, 10:13:07â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©","Por el momento solo contamos con la opciÃ³n del Plan de 1500 calorÃ­as al dÃ­a, el cual se ofrece dentro de las 4 comidas diarias, por lo que lastimosamente no es posible intercambiarlas ðŸ˜”"]},"timestamp":1767404928831,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":7,"nonEmptyLines":6},"timestamp":1767404928831,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":85},"timestamp":1767404928832,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":0},"timestamp":1767404928832,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:54:03â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:54:03.000Z","sender":"~HernÃ¡n Samudio","contentLength":168},"timestamp":1767404928832,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":85,"contentPreview":"Your business uses a secure service from Meta to m","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767404928832,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":false,"hasValidTimestamp":true,"contentLength":0,"contentPreview":"","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767404928832,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":168,"contentPreview":"Buen dÃ­a! Quiero probar el plan de un dia pero en ","timestamp":"2025-06-10T12:54:03.000Z"},"timestamp":1767404928832,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":223,"contentPreview":"Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©\nPor el moment","timestamp":"2025-06-10T13:13:07.000Z"},"timestamp":1767404928832,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":93,"contentPreview":"Your business is now using a secure service from M","timestamp":"2026-01-02T22:53:57.000Z"},"timestamp":1767404928833,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":5,"validMessagesCount":4},"timestamp":1767404928833,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b818aff410001c3dd5423b409","chatName":"HernÃ¡n Samudio","messagesCount":4},"timestamp":1767404928833,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"extraction complete","data":{"newChatsCount":1,"newChats":[{"id":"chat_19b818aff410001c3dd5423b409","name":"HernÃ¡n Samudio","messagesCount":4}]},"timestamp":1767404928833,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:402","message":"handleConfirmImport called","data":{"previewedChatsCount":1},"timestamp":1767404929840,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"calling onImport","data":{},"timestamp":1767404929841,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/chat/chat-layout.tsx:95","message":"handleImportChats called","data":{"newChatsCount":1,"existingChatsCount":0},"timestamp":1767404929841,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:99","message":"filtered unique chats","data":{"uniqueNewChatsCount":1},"timestamp":1767404929842,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:103","message":"calling ChatStorage.addChats","data":{},"timestamp":1767404929842,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:62","message":"addChats called","data":{"newChatsCount":1},"timestamp":1767404929842,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404929843,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404929879,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404929900,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404929901,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404929902,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404930461,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404930777,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:38","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","pathname":"chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1"},"timestamp":1767404930779,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:42","message":"attempting fetch","data":{"usingUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","hasDownloadUrl":true},"timestamp":1767404930780,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"fetch failed, trying head to get downloadUrl","data":{"status":404,"statusText":"Not Found"},"timestamp":1767404930966,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":0},"timestamp":1767404931165,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:71","message":"retry fetch failed","data":{"status":404,"retry":0},"timestamp":1767404931221,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"got blob info from head","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","retry":1},"timestamp":1767404931850,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:67","message":"retry fetch succeeded","data":{"dataLength":72,"retry":1},"timestamp":1767404932288,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767404932301,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767404932302,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:64","message":"loaded existing chats","data":{"existingCount":0},"timestamp":1767404932302,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:67","message":"calling saveChats","data":{"toAddCount":1,"allCount":1},"timestamp":1767404932303,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:28","message":"saveChats called","data":{"chatsCount":1},"timestamp":1767404932303,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:48","message":"posting to /api/chats","data":{"encryptedLength":1912,"hasKeyHash":true},"timestamp":1767404932361,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"POST chats called","data":{"hasToken":true},"timestamp":1767404932374,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:34","message":"parsed request body","data":{"hasData":true,"dataLength":1912,"hasKeyHash":true},"timestamp":1767404932375,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:44","message":"putting chats.json.enc","data":{},"timestamp":1767404932375,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:50","message":"chats.json.enc saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404932888,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:52","message":"putting key-hash.txt","data":{},"timestamp":1767404932890,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:58","message":"key-hash.txt saved","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt","note":"Store this URL as BLOB_KEY_HASH_URL for local dev"},"timestamp":1767404933144,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:61","message":"POST successful","data":{},"timestamp":1767404933145,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:54","message":"save response received","data":{"ok":true,"status":200,"statusText":"OK"},"timestamp":1767404933152,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:65","message":"storing blob URL from save response","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767404933153,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:60","message":"save successful","data":{},"timestamp":1767404933153,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:68","message":"saveChats completed","data":{},"timestamp":1767404933153,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:105","message":"calling ChatStorage.loadChats","data":{},"timestamp":1767404933153,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767404933154,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767404933182,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:4","message":"GET chats called","data":{"hasBlobChatsUrl":false,"hasToken":true},"timestamp":1767404933192,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:19","message":"BLOB_CHATS_URL not set, using list to find blob","data":{},"timestamp":1767404933192,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:23","message":"checking if blob exists with head","data":{},"timestamp":1767404933192,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:25","message":"blob exists, listing blobs","data":{},"timestamp":1767404933401,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:29","message":"list returned","data":{"blobsCount":1,"blobPaths":["chats.json.enc"]},"timestamp":1767404933597,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:38","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc","pathname":"chats.json.enc","downloadUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1"},"timestamp":1767404933599,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:42","message":"attempting fetch","data":{"usingUrl":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc?download=1","hasDownloadUrl":true},"timestamp":1767404933600,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"app/api/chats/route.ts:46","message":"successfully fetched and returning data","data":{"dataLength":72},"timestamp":1767404933747,"sessionId":"debug-session","runId":"run2","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":72},"timestamp":1767404933757,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":0},"timestamp":1767404933758,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:106","message":"loaded chats from storage","data":{"loadedChatsCount":0},"timestamp":1767404933758,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:107","message":"calling onChatsChange","data":{"revivedChatsCount":0},"timestamp":1767404933758,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:408","message":"onImport completed, closing dialog","data":{},"timestamp":1767404933758,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767404964827,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767404965535,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767404968289,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767404968290,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767404968538,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767404968939,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767404968940,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767404969155,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767404969365,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767404969366,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767405154124,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:15","message":"blob not found, returning hasData:false","data":{"errorMessage":"Vercel Blob: The requested blob does not exist"},"timestamp":1767405154676,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405160022,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405160047,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405160080,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405160099,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767405162256,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767405162257,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767405164025,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767405164025,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:210","message":"handleExtractAndPreview called","data":{"availableFilesCount":4,"selectedFilesCount":4,"selectedFiles":["WhatsApp Chat - +595 981 407152.zip","WhatsApp Chat - +595 981 800546.zip","WhatsApp Chat - +595 981 490285.zip","WhatsApp Chat - Pitu (Yutri Client).zip"]},"timestamp":1767405169190,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:219","message":"filtered selected files","data":{"selectedFilesListCount":4,"selectedFilesList":[{"name":"WhatsApp Chat - +595 981 407152.zip","type":"zip"},{"name":"WhatsApp Chat - +595 981 800546.zip","type":"zip"},{"name":"WhatsApp Chat - +595 981 490285.zip","type":"zip"},{"name":"WhatsApp Chat - Pitu (Yutri Client).zip","type":"zip"}]},"timestamp":1767405169274,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 981 407152.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 981 407152.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767405169275,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":1260,"phoneNumber":"+595 981 407152"},"timestamp":1767405169284,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1260,"phoneNumber":"+595 981 407152","firstLines":["[6/10/25, 10:34:58â€¯AM] ~Sol: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 10:34:58â€¯AM] ~Sol:","[6/10/25, 10:33:05â€¯AM] ~Sol: Â¡Hola! PodrÃ­as darme mÃ¡s informaciÃ³n de...","[6/10/25, 10:37:19â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenida a Yutri! ðŸ¤©","Claro, te cuento un poco mÃ¡s lo que ofrecemos ðŸŒ±"]},"timestamp":1767405169284,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":19,"nonEmptyLines":16},"timestamp":1767405169284,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":85},"timestamp":1767405169285,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":0},"timestamp":1767405169285,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:33:05â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:33:05.000Z","sender":"~Sol","contentLength":42},"timestamp":1767405169285,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":11,"validMessagesCount":10},"timestamp":1767405169285,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b818eaa850012b533c7f18f23","chatName":"Sol","messagesCount":10},"timestamp":1767405169285,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 981 800546.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 981 800546.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767405170589,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":765,"phoneNumber":"+595 981 800546"},"timestamp":1767405170610,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":765,"phoneNumber":"+595 981 800546","firstLines":["[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio:","[6/10/25, 9:54:03â€¯AM] ~HernÃ¡n Samudio: Buen dÃ­a! Quiero probar el plan de un dia pero en vez de desayuno y merienda, quiero un almuerzo y cena extra, eso es posible? En la pÃ¡gina no encontre forma de hacerlo","[6/10/25, 10:13:07â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©","Por el momento solo contamos con la opciÃ³n del Plan de 1500 calorÃ­as al dÃ­a, el cual se ofrece dentro de las 4 comidas diarias, por lo que lastimosamente no es posible intercambiarlas ðŸ˜”"]},"timestamp":1767405170610,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":7,"nonEmptyLines":6},"timestamp":1767405170611,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":85},"timestamp":1767405170611,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":0},"timestamp":1767405170611,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:54:03â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:54:03.000Z","sender":"~HernÃ¡n Samudio","contentLength":168},"timestamp":1767405170611,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":85,"contentPreview":"Your business uses a secure service from Meta to m","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767405170612,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":false,"hasValidTimestamp":true,"contentLength":0,"contentPreview":"","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767405170612,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":168,"contentPreview":"Buen dÃ­a! Quiero probar el plan de un dia pero en ","timestamp":"2025-06-10T12:54:03.000Z"},"timestamp":1767405170612,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":223,"contentPreview":"Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©\nPor el moment","timestamp":"2025-06-10T13:13:07.000Z"},"timestamp":1767405170612,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":93,"contentPreview":"Your business is now using a secure service from M","timestamp":"2026-01-02T22:53:57.000Z"},"timestamp":1767405170612,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":5,"validMessagesCount":4},"timestamp":1767405170612,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b818eafb4001b8eb709b0d1bf","chatName":"HernÃ¡n Samudio","messagesCount":4},"timestamp":1767405170612,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - +595 981 490285.zip","isSelected":true,"fileName":"WhatsApp Chat - +595 981 490285.zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767405170613,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":496,"phoneNumber":"+595 981 490285"},"timestamp":1767405170619,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":496,"phoneNumber":"+595 981 490285","firstLines":["[6/8/25, 5:58:27â€¯PM] â€ª+595Â 981Â 490285â€¬: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/8/25, 5:58:27â€¯PM] â€ª+595Â 981Â 490285â€¬:","[6/8/25, 5:52:53â€¯PM] Yutri: Â¡Buenas tardes! ðŸ˜Š","[6/8/25, 5:54:39â€¯PM] Yutri: Te escribo desde Yutri ðŸŒ±","Quisiera confirmar tu orden, ya que aÃºn no hemos recibido el comprobante de pago ðŸ˜ŠðŸ™ŒðŸ»"]},"timestamp":1767405170619,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":7,"nonEmptyLines":6},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/8/25","time":"5:58:27â€¯PM","hasTimestamp":true,"timestamp":"2025-06-08T20:58:27.000Z","sender":"+595Â 981Â 490285","contentLength":85},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/8/25","time":"5:58:27â€¯PM","hasTimestamp":true,"timestamp":"2025-06-08T20:58:27.000Z","sender":"+595Â 981Â 490285","contentLength":0},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/8/25","time":"5:52:53â€¯PM","hasTimestamp":true,"timestamp":"2025-06-08T20:52:53.000Z","sender":"Yutri","contentLength":18},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":85,"contentPreview":"Your business uses a secure service from Meta to m","timestamp":"2025-06-08T20:58:27.000Z"},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":false,"hasValidTimestamp":true,"contentLength":0,"contentPreview":"","timestamp":"2025-06-08T20:58:27.000Z"},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":18,"contentPreview":"Â¡Buenas tardes! ðŸ˜Š","timestamp":"2025-06-08T20:52:53.000Z"},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":113,"contentPreview":"Te escribo desde Yutri ðŸŒ±\nQuisiera confirmar tu or","timestamp":"2025-06-08T20:54:39.000Z"},"timestamp":1767405170620,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":93,"contentPreview":"Your business is now using a secure service from M","timestamp":"2026-01-02T22:51:47.000Z"},"timestamp":1767405170621,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":5,"validMessagesCount":4},"timestamp":1767405170621,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b818eafbd00088c94821c42d6","chatName":"+595Â 981Â 490285","messagesCount":4},"timestamp":1767405170621,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:222","message":"processing file","data":{"identifier":"WhatsApp Chat - Pitu (Yutri Client).zip","isSelected":true,"fileName":"WhatsApp Chat - Pitu (Yutri Client).zip","fileType":"zip","hasFile":true,"hasPath":false,"hasContent":false},"timestamp":1767405170621,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:268","message":"extracted chatText","data":{"hasChatText":true,"chatTextLength":5399,"phoneNumber":"Pitu (Yutri Client)"},"timestamp":1767405170633,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":5399,"phoneNumber":"Pitu (Yutri Client)","firstLines":["[5/25/25, 11:35:13â€¯PM] Pitu (Yutri Client): â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[5/25/25, 11:35:13â€¯PM] Pitu (Yutri Client): â€ŽPitu (Yutri Client) is a contact.","[5/25/25, 11:33:03â€¯PM] Pitu (Yutri Client): Hola! He realizado una transferencia bancaria para mi pedido #order_1970a6f7bf700019d354c8c9fb1. Adjunto comprobante de pago.","â€Ž[5/25/25, 11:33:16â€¯PM] Pitu (Yutri Client): â€Ž<attached: 00000004-PHOTO-2025-05-25-23-33-16.jpg>","[5/25/25, 11:33:23â€¯PM] Pitu (Yutri Client): Victor Vazquez"]},"timestamp":1767405170634,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":70,"nonEmptyLines":65},"timestamp":1767405170634,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:35:13â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:35:13.000Z","sender":"Pitu (Yutri Client)","contentLength":85},"timestamp":1767405170634,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:35:13â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:35:13.000Z","sender":"Pitu (Yutri Client)","contentLength":33},"timestamp":1767405170634,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:33:03â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:33:03.000Z","sender":"Pitu (Yutri Client)","contentLength":125},"timestamp":1767405170634,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":56,"validMessagesCount":56},"timestamp":1767405170635,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:269","message":"parsed chat","data":{"hasChat":true,"chatId":"chat_19b818eafcb000bfcd44c3c2305","messagesCount":56},"timestamp":1767405170635,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"extraction complete","data":{"newChatsCount":4,"newChats":[{"id":"chat_19b818eaa850012b533c7f18f23","name":"Sol","messagesCount":10},{"id":"chat_19b818eafb4001b8eb709b0d1bf","name":"HernÃ¡n Samudio","messagesCount":4},{"id":"chat_19b818eafbd00088c94821c42d6","name":"+595Â 981Â 490285","messagesCount":4},{"id":"chat_19b818eafcb000bfcd44c3c2305","messagesCount":56}]},"timestamp":1767405170696,"sessionId":"debug-session","runId":"run3","hypothesisId":"H5"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:402","message":"handleConfirmImport called","data":{"previewedChatsCount":4},"timestamp":1767405179256,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:406","message":"calling onImport","data":{},"timestamp":1767405179256,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"components/chat/chat-layout.tsx:95","message":"handleImportChats called","data":{"newChatsCount":4,"existingChatsCount":0},"timestamp":1767405179257,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:99","message":"filtered unique chats","data":{"uniqueNewChatsCount":4},"timestamp":1767405179257,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:103","message":"calling ChatStorage.addChats","data":{},"timestamp":1767405179258,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:62","message":"addChats called","data":{"newChatsCount":4},"timestamp":1767405179258,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405179258,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405179307,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767405180907,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767405180907,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:64","message":"loaded existing chats","data":{"existingCount":0},"timestamp":1767405180908,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:67","message":"calling saveChats","data":{"toAddCount":4,"allCount":4},"timestamp":1767405180908,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:28","message":"saveChats called","data":{"chatsCount":4},"timestamp":1767405180908,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:48","message":"posting to /api/chats","data":{"encryptedLength":22964,"hasKeyHash":true},"timestamp":1767405180967,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:54","message":"save response received","data":{"ok":true,"status":200,"statusText":"OK"},"timestamp":1767405181802,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:65","message":"storing blob URL from save response","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/chats.json.enc"},"timestamp":1767405181803,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:60","message":"save successful","data":{},"timestamp":1767405181803,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:68","message":"saveChats completed","data":{},"timestamp":1767405181803,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:105","message":"calling ChatStorage.loadChats","data":{},"timestamp":1767405181804,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405181804,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405181836,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":22964},"timestamp":1767405183023,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":4},"timestamp":1767405183027,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:106","message":"loaded chats from storage","data":{"loadedChatsCount":4},"timestamp":1767405183028,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/chat/chat-layout.tsx:107","message":"calling onChatsChange","data":{"revivedChatsCount":4},"timestamp":1767405183029,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"components/dialogs/import-chats-dialog/import-chats-dialog.tsx:408","message":"onImport completed, closing dialog","data":{},"timestamp":1767405183029,"sessionId":"debug-session","runId":"run1","hypothesisId":"H3"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767405203058,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767405203767,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767405205111,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"ac6295f1e358cce5263a"},"timestamp":1767405205116,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767405205117,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767405205852,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767405206340,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405206383,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405206410,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405206438,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405206455,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":22964},"timestamp":1767405206990,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":4},"timestamp":1767405206994,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":false},"timestamp":1767405208225,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:17","message":"no data, returning empty array","data":{},"timestamp":1767405208226,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767405214260,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767405214645,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767405216175,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"ac6295f1e358cce5263a"},"timestamp":1767405216178,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767405216178,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767405216695,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767405216860,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405216945,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:6","message":"loadChats called","data":{"hasMnemonic":true},"timestamp":1767405216965,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405216993,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:13","message":"fetching /api/chats","data":{},"timestamp":1767405217015,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":22964},"timestamp":1767405217670,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":4},"timestamp":1767405217681,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:15","message":"received data from api","data":{"hasData":true,"dataLength":22964},"timestamp":1767405218143,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"lib/chat-storage.ts:22","message":"decrypted and parsed data","data":{"chatsCount":4},"timestamp":1767405218146,"sessionId":"debug-session","runId":"run1","hypothesisId":"H4"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767405832557,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767405833085,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767406233414,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767406233928,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767406236826,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767406236828,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767406237249,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767406237656,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767406237657,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767406238078,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767406238520,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767406238522,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767406239727,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:15","message":"blob not found, returning hasData:false","data":{"errorMessage":"Vercel Blob: The requested blob does not exist"},"timestamp":1767406240148,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767407106997,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"240558000ac2dd64234c"},"timestamp":1767407107008,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767407107009,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767407108533,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767407109018,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":765,"phoneNumber":"+595 981 800546","firstLines":["[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio:","[6/10/25, 9:54:03â€¯AM] ~HernÃ¡n Samudio: Buen dÃ­a! Quiero probar el plan de un dia pero en vez de desayuno y merienda, quiero un almuerzo y cena extra, eso es posible? En la pÃ¡gina no encontre forma de hacerlo","[6/10/25, 10:13:07â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©","Por el momento solo contamos con la opciÃ³n del Plan de 1500 calorÃ­as al dÃ­a, el cual se ofrece dentro de las 4 comidas diarias, por lo que lastimosamente no es posible intercambiarlas ðŸ˜”"]},"timestamp":1767407218778,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":7,"nonEmptyLines":6},"timestamp":1767407218779,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":85},"timestamp":1767407218780,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":false,"hasValidTimestamp":true,"contentLength":0,"contentPreview":"","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767407218782,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":0},"timestamp":1767407218781,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":168,"contentPreview":"Buen dÃ­a! Quiero probar el plan de un dia pero en ","timestamp":"2025-06-10T12:54:03.000Z"},"timestamp":1767407218782,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:54:03â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:54:03.000Z","sender":"~HernÃ¡n Samudio","contentLength":168},"timestamp":1767407218781,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":223,"contentPreview":"Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©\nPor el moment","timestamp":"2025-06-10T13:13:07.000Z"},"timestamp":1767407218782,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":85,"contentPreview":"Your business uses a secure service from Meta to m","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767407218782,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":93,"contentPreview":"Your business is now using a secure service from M","timestamp":"2026-01-02T22:53:57.000Z"},"timestamp":1767407218783,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":5,"validMessagesCount":4},"timestamp":1767407218783,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408033434,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"240558000ac2dd64234c"},"timestamp":1767408033569,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408033569,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408035802,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408036068,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408396203,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"240558000ac2dd64234c"},"timestamp":1767408396223,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408396223,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408397445,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408397684,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1260,"phoneNumber":"+595 981 407152","firstLines":["[6/10/25, 10:34:58â€¯AM] ~Sol: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 10:34:58â€¯AM] ~Sol:","[6/10/25, 10:33:05â€¯AM] ~Sol: Â¡Hola! PodrÃ­as darme mÃ¡s informaciÃ³n de...","[6/10/25, 10:37:19â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenida a Yutri! ðŸ¤©","Claro, te cuento un poco mÃ¡s lo que ofrecemos ðŸŒ±"]},"timestamp":1767408442049,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":19,"nonEmptyLines":16},"timestamp":1767408442056,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":85},"timestamp":1767408442058,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":0},"timestamp":1767408442058,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:33:05â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:33:05.000Z","sender":"~Sol","contentLength":42},"timestamp":1767408442059,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":11,"validMessagesCount":10},"timestamp":1767408442059,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408451486,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"240558000ac2dd64234c"},"timestamp":1767408451490,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408451490,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408452411,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408452760,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408493017,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"240558000ac2dd64234c"},"timestamp":1767408493021,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408493022,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408494192,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408494417,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767408502371,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767408502844,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767408505212,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767408505221,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767408505646,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767408505999,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767408506000,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767408506417,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767408506728,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767408506729,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1260,"phoneNumber":"+595 981 407152","firstLines":["[6/10/25, 10:34:58â€¯AM] ~Sol: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 10:34:58â€¯AM] ~Sol:","[6/10/25, 10:33:05â€¯AM] ~Sol: Â¡Hola! PodrÃ­as darme mÃ¡s informaciÃ³n de...","[6/10/25, 10:37:19â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenida a Yutri! ðŸ¤©","Claro, te cuento un poco mÃ¡s lo que ofrecemos ðŸŒ±"]},"timestamp":1767408521299,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":19,"nonEmptyLines":16},"timestamp":1767408521300,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":85},"timestamp":1767408521305,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":0},"timestamp":1767408521305,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:33:05â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:33:05.000Z","sender":"~Sol","contentLength":42},"timestamp":1767408521306,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":11,"validMessagesCount":10},"timestamp":1767408521306,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":765,"phoneNumber":"+595 981 800546","firstLines":["[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 9:55:50â€¯AM] ~HernÃ¡n Samudio:","[6/10/25, 9:54:03â€¯AM] ~HernÃ¡n Samudio: Buen dÃ­a! Quiero probar el plan de un dia pero en vez de desayuno y merienda, quiero un almuerzo y cena extra, eso es posible? En la pÃ¡gina no encontre forma de hacerlo","[6/10/25, 10:13:07â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©","Por el momento solo contamos con la opciÃ³n del Plan de 1500 calorÃ­as al dÃ­a, el cual se ofrece dentro de las 4 comidas diarias, por lo que lastimosamente no es posible intercambiarlas ðŸ˜”"]},"timestamp":1767408521906,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":7,"nonEmptyLines":6},"timestamp":1767408521906,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":85},"timestamp":1767408521907,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:55:50â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:55:50.000Z","sender":"~HernÃ¡n Samudio","contentLength":0},"timestamp":1767408521907,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"9:54:03â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T12:54:03.000Z","sender":"~HernÃ¡n Samudio","contentLength":168},"timestamp":1767408521907,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":85,"contentPreview":"Your business uses a secure service from Meta to m","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767408521907,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":false,"hasValidTimestamp":true,"contentLength":0,"contentPreview":"","timestamp":"2025-06-10T12:55:50.000Z"},"timestamp":1767408521908,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":168,"contentPreview":"Buen dÃ­a! Quiero probar el plan de un dia pero en ","timestamp":"2025-06-10T12:54:03.000Z"},"timestamp":1767408521908,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":223,"contentPreview":"Â¡Buenos dÃ­as, bienvenido a Yutri! ðŸ¤©\nPor el moment","timestamp":"2025-06-10T13:13:07.000Z"},"timestamp":1767408521908,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":93,"contentPreview":"Your business is now using a secure service from M","timestamp":"2026-01-02T22:53:57.000Z"},"timestamp":1767408521908,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":5,"validMessagesCount":4},"timestamp":1767408521908,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":496,"phoneNumber":"+595 981 490285","firstLines":["[6/8/25, 5:58:27â€¯PM] â€ª+595Â 981Â 490285â€¬: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/8/25, 5:58:27â€¯PM] â€ª+595Â 981Â 490285â€¬:","[6/8/25, 5:52:53â€¯PM] Yutri: Â¡Buenas tardes! ðŸ˜Š","[6/8/25, 5:54:39â€¯PM] Yutri: Te escribo desde Yutri ðŸŒ±","Quisiera confirmar tu orden, ya que aÃºn no hemos recibido el comprobante de pago ðŸ˜ŠðŸ™ŒðŸ»"]},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":7,"nonEmptyLines":6},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/8/25","time":"5:58:27â€¯PM","hasTimestamp":true,"timestamp":"2025-06-08T20:58:27.000Z","sender":"+595Â 981Â 490285","contentLength":85},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/8/25","time":"5:58:27â€¯PM","hasTimestamp":true,"timestamp":"2025-06-08T20:58:27.000Z","sender":"+595Â 981Â 490285","contentLength":0},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/8/25","time":"5:52:53â€¯PM","hasTimestamp":true,"timestamp":"2025-06-08T20:52:53.000Z","sender":"Yutri","contentLength":18},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":85,"contentPreview":"Your business uses a secure service from Meta to m","timestamp":"2025-06-08T20:58:27.000Z"},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":false,"hasValidTimestamp":true,"contentLength":0,"contentPreview":"","timestamp":"2025-06-08T20:58:27.000Z"},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":18,"contentPreview":"Â¡Buenas tardes! ðŸ˜Š","timestamp":"2025-06-08T20:52:53.000Z"},"timestamp":1767408521917,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":113,"contentPreview":"Te escribo desde Yutri ðŸŒ±\nQuisiera confirmar tu or","timestamp":"2025-06-08T20:54:39.000Z"},"timestamp":1767408521918,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:115","message":"validating message","data":{"hasContent":true,"hasValidTimestamp":true,"contentLength":93,"contentPreview":"Your business is now using a secure service from M","timestamp":"2026-01-02T22:51:47.000Z"},"timestamp":1767408521918,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":5,"validMessagesCount":4},"timestamp":1767408521918,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":5399,"phoneNumber":"Pitu (Yutri Client)","firstLines":["[5/25/25, 11:35:13â€¯PM] Pitu (Yutri Client): â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[5/25/25, 11:35:13â€¯PM] Pitu (Yutri Client): â€ŽPitu (Yutri Client) is a contact.","[5/25/25, 11:33:03â€¯PM] Pitu (Yutri Client): Hola! He realizado una transferencia bancaria para mi pedido #order_1970a6f7bf700019d354c8c9fb1. Adjunto comprobante de pago.","â€Ž[5/25/25, 11:33:16â€¯PM] Pitu (Yutri Client): â€Ž<attached: 00000004-PHOTO-2025-05-25-23-33-16.jpg>","[5/25/25, 11:33:23â€¯PM] Pitu (Yutri Client): Victor Vazquez"]},"timestamp":1767408521926,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":70,"nonEmptyLines":65},"timestamp":1767408521926,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:35:13â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:35:13.000Z","sender":"Pitu (Yutri Client)","contentLength":85},"timestamp":1767408521926,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:35:13â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:35:13.000Z","sender":"Pitu (Yutri Client)","contentLength":33},"timestamp":1767408521926,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:33:03â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:33:03.000Z","sender":"Pitu (Yutri Client)","contentLength":125},"timestamp":1767408521926,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":56,"validMessagesCount":56},"timestamp":1767408521926,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408735619,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767408735647,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408735648,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408737160,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408737860,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1260,"phoneNumber":"+595 981 407152","firstLines":["[6/10/25, 10:34:58â€¯AM] ~Sol: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/10/25, 10:34:58â€¯AM] ~Sol:","[6/10/25, 10:33:05â€¯AM] ~Sol: Â¡Hola! PodrÃ­as darme mÃ¡s informaciÃ³n de...","[6/10/25, 10:37:19â€¯AM] Yutri: Â¡Buenos dÃ­as, bienvenida a Yutri! ðŸ¤©","Claro, te cuento un poco mÃ¡s lo que ofrecemos ðŸŒ±"]},"timestamp":1767408747096,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":19,"nonEmptyLines":16},"timestamp":1767408747102,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":85},"timestamp":1767408747104,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:34:58â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:34:58.000Z","sender":"~Sol","contentLength":0},"timestamp":1767408747105,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/10/25","time":"10:33:05â€¯AM","hasTimestamp":true,"timestamp":"2025-06-10T13:33:05.000Z","sender":"~Sol","contentLength":42},"timestamp":1767408747105,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":11,"validMessagesCount":10},"timestamp":1767408747105,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408766599,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767408766601,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408766601,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408767419,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408767953,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":1577,"phoneNumber":"+595 981 429955","firstLines":["[5/30/25, 8:11:34â€¯PM] ~Lilian NoemÃ­ FariÃ±a Arza: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[5/30/25, 8:11:34â€¯PM] ~Lilian NoemÃ­ FariÃ±a Arza:","[5/30/25, 8:09:28â€¯PM] ~Lilian NoemÃ­ FariÃ±a Arza: Buenas noches . ","PodrÃ­a enviarme un menÃº diet con precios .","[5/30/25, 8:20:31â€¯PM] Yutri: Â¡Buenas, bienvenida a Yutri! ðŸ˜ŠðŸŒ±"]},"timestamp":1767408777925,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":21,"nonEmptyLines":18},"timestamp":1767408777926,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/30/25","time":"8:11:34â€¯PM","hasTimestamp":true,"timestamp":"2025-05-30T23:11:34.000Z","sender":"~Lilian NoemÃ­ FariÃ±a Arza","contentLength":85},"timestamp":1767408777927,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/30/25","time":"8:11:34â€¯PM","hasTimestamp":true,"timestamp":"2025-05-30T23:11:34.000Z","sender":"~Lilian NoemÃ­ FariÃ±a Arza","contentLength":0},"timestamp":1767408777927,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/30/25","time":"8:09:28â€¯PM","hasTimestamp":true,"timestamp":"2025-05-30T23:09:28.000Z","sender":"~Lilian NoemÃ­ FariÃ±a Arza","contentLength":15},"timestamp":1767408777927,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:74","message":"line did not match regex","data":{"line":"PodrÃ­a enviarme un menÃº diet con precios .","regexPattern":"/^\\[(\\d{1,2}\\/\\d{1,2}\\/\\d{2,4}),?\\s+(\\d{1,2}:\\d{2}(?::\\d{2})?\\s+(?:AM|PM))\\]\\s+([^:]+):\\s*(.*)$/"},"timestamp":1767408777928,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":14,"validMessagesCount":13},"timestamp":1767408777928,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408829089,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767408829099,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408829099,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408830397,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408830979,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408834390,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767408834393,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408834393,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408835662,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408835800,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":10848,"phoneNumber":"Kimberlyn Fretes (client Yutri)","firstLines":["[5/25/25, 10:40:26â€¯PM] Kimberlyn Fretes (client Yutri): â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[5/25/25, 10:40:26â€¯PM] Kimberlyn Fretes (client Yutri): â€ŽKimberlyn is a contact.","[5/25/25, 10:40:16â€¯PM] Kimberlyn Fretes (client Yutri): Buenas","[5/25/25, 10:40:44â€¯PM] Kimberlyn Fretes (client Yutri): Quise pedir desde la pÃ¡gina y no me dejÃ³","[5/25/25, 10:41:15â€¯PM] Kimberlyn Fretes (client Yutri): Quiero probar por 5 dÃ­as"]},"timestamp":1767408943127,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":127,"nonEmptyLines":118},"timestamp":1767408943133,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"10:40:26â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T01:40:26.000Z","sender":"Kimberlyn Fretes (client Yutri)","contentLength":85},"timestamp":1767408943134,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"10:40:26â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T01:40:26.000Z","sender":"Kimberlyn Fretes (client Yutri)","contentLength":23},"timestamp":1767408943135,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"10:40:16â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T01:40:16.000Z","sender":"Kimberlyn Fretes (client Yutri)","contentLength":6},"timestamp":1767408943135,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":86,"validMessagesCount":86},"timestamp":1767408943135,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767408967907,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767408967916,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767408967917,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767408969969,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767408970579,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409051696,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409051717,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409051718,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409052636,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409052930,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409074207,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409074211,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409074211,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409075298,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409075509,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409155578,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409155590,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409155591,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409155985,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409155988,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409155989,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409156464,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409156704,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409156955,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409157018,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409175875,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409175910,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409175912,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409177128,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409177132,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409177133,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409177599,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409177781,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409178473,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409178600,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409184019,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409184031,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409184032,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409184953,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409185127,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":5399,"phoneNumber":"Pitu (Yutri Client)","firstLines":["[5/25/25, 11:35:13â€¯PM] Pitu (Yutri Client): â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[5/25/25, 11:35:13â€¯PM] Pitu (Yutri Client): â€ŽPitu (Yutri Client) is a contact.","[5/25/25, 11:33:03â€¯PM] Pitu (Yutri Client): Hola! He realizado una transferencia bancaria para mi pedido #order_1970a6f7bf700019d354c8c9fb1. Adjunto comprobante de pago.","â€Ž[5/25/25, 11:33:16â€¯PM] Pitu (Yutri Client): â€Ž<attached: 00000004-PHOTO-2025-05-25-23-33-16.jpg>","[5/25/25, 11:33:23â€¯PM] Pitu (Yutri Client): Victor Vazquez"]},"timestamp":1767409247045,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":70,"nonEmptyLines":65},"timestamp":1767409247052,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:35:13â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:35:13.000Z","sender":"Pitu (Yutri Client)","contentLength":85},"timestamp":1767409247053,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:35:13â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:35:13.000Z","sender":"Pitu (Yutri Client)","contentLength":33},"timestamp":1767409247054,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"5/25/25","time":"11:33:03â€¯PM","hasTimestamp":true,"timestamp":"2025-05-26T02:33:03.000Z","sender":"Pitu (Yutri Client)","contentLength":125},"timestamp":1767409247054,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":56,"validMessagesCount":56},"timestamp":1767409247054,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409412000,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409412007,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409412008,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409412860,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409413255,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"lib/whatsapp-parser.ts:58","message":"parseWhatsAppChat called","data":{"chatTextLength":755,"phoneNumber":"+595 981 710461","firstLines":["[6/1/25, 6:35:29â€¯PM] ~Alam: â€ŽYour business uses a secure service from Meta to manage this chat. Tap to learn more.","[6/1/25, 6:35:29â€¯PM] ~Alam:","[6/1/25, 6:35:13â€¯PM] ~Alam: Hola","[6/1/25, 6:36:18â€¯PM] Yutri: Â¡Hola, bienvenido a Yutri! ðŸ¤©","CÃ³mo puedo ayudarte?"]},"timestamp":1767409420165,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:66","message":"starting to parse lines","data":{"totalLines":14,"nonEmptyLines":11},"timestamp":1767409420166,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/1/25","time":"6:35:29â€¯PM","hasTimestamp":true,"timestamp":"2025-06-01T21:35:29.000Z","sender":"~Alam","contentLength":85},"timestamp":1767409420166,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/1/25","time":"6:35:29â€¯PM","hasTimestamp":true,"timestamp":"2025-06-01T21:35:29.000Z","sender":"~Alam","contentLength":0},"timestamp":1767409420167,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:82","message":"parsed message line","data":{"date":"6/1/25","time":"6:35:13â€¯PM","hasTimestamp":true,"timestamp":"2025-06-01T21:35:13.000Z","sender":"~Alam","contentLength":4},"timestamp":1767409420167,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"lib/whatsapp-parser.ts:123","message":"parsing complete","data":{"totalMessages":8,"validMessagesCount":7},"timestamp":1767409420167,"sessionId":"debug-session","runId":"run3","hypothesisId":"H6"}
{"location":"app/api/auth/validate/route.ts:4","message":"validate endpoint called","data":{"hasToken":true,"hasBlobKeyHashUrl":false},"timestamp":1767409456259,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:7","message":"parsed keyHash from request","data":{"keyHashProvided":true,"keyHashLength":64,"keyHashPrefix":"f811955e4f2249783389"},"timestamp":1767409456264,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:24","message":"BLOB_KEY_HASH_URL not set, using list to find blob","data":{},"timestamp":1767409456265,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:30","message":"found blob, fetching","data":{"url":"https://ye3f1ktpii5jmkkt.public.blob.vercel-storage.com/key-hash.txt"},"timestamp":1767409457190,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/validate/route.ts:35","message":"hash comparison","data":{"storedHashLength":64,"keyHashLength":64,"isValid":true},"timestamp":1767409457645,"sessionId":"debug-session","runId":"run1","hypothesisId":"H1"}
{"location":"app/api/auth/check/route.ts:4","message":"check endpoint called","data":{"hasToken":true},"timestamp":1767410903216,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/check/route.ts:12","message":"blob exists, returning hasData:true","data":{},"timestamp":1767410904472,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:4","message":"reset endpoint called","data":{"hasToken":true},"timestamp":1767410908053,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:16","message":"checking chats.json.enc","data":{},"timestamp":1767410908059,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:18","message":"deleting chats.json.enc","data":{},"timestamp":1767410908295,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:20","message":"deleted chats.json.enc","data":{},"timestamp":1767410908973,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:25","message":"checking key-hash.txt","data":{},"timestamp":1767410908975,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:27","message":"deleting key-hash.txt","data":{},"timestamp":1767410909400,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:29","message":"deleted key-hash.txt","data":{},"timestamp":1767410909847,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
{"location":"app/api/auth/reset/route.ts:34","message":"reset completed successfully","data":{},"timestamp":1767410909848,"sessionId":"debug-session","runId":"run1","hypothesisId":"H2"}
